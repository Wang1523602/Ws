{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nvar _interopRequireDefault = require(\"E:/\\u684C\\u9762/ylylxt/manage_code/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.render = render;\nvar _vue = require(\"vue\");\nvar _avatar = _interopRequireDefault(require(\"@/assets/img/avatar.png\"));\nvar _withScopeId = function _withScopeId(n) {\n  return (0, _vue.pushScopeId)(\"data-v-5f438dd0\"), n = n(), (0, _vue.popScopeId)(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"top_view\"\n};\nvar _hoisted_2 = {\n  \"class\": \"top_left_view\"\n};\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0, _vue.createElementVNode)(\"div\", {\n    \"class\": \"projectTitle\"\n  }, \"社区智慧医疗养老系统\", -1 /* HOISTED */);\n});\nvar _hoisted_4 = {\n  \"class\": \"top_right_view\"\n};\nvar _hoisted_5 = {\n  \"class\": \"avatar-wrapper\"\n};\nvar _hoisted_6 = {\n  \"class\": \"nickname\"\n};\nvar _hoisted_7 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/(0, _vue.createElementVNode)(\"img\", {\n    \"class\": \"user-avatar\",\n    src: _avatar[\"default\"]\n  }, null, -1 /* HOISTED */);\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_Fold = (0, _vue.resolveComponent)(\"Fold\");\n  var _component_Expand = (0, _vue.resolveComponent)(\"Expand\");\n  var _component_el_icon = (0, _vue.resolveComponent)(\"el-icon\");\n  var _component_arrow_down = (0, _vue.resolveComponent)(\"arrow-down\");\n  var _component_el_dropdown_item = (0, _vue.resolveComponent)(\"el-dropdown-item\");\n  var _component_el_dropdown_menu = (0, _vue.resolveComponent)(\"el-dropdown-menu\");\n  var _component_el_dropdown = (0, _vue.resolveComponent)(\"el-dropdown\");\n  return (0, _vue.openBlock)(), (0, _vue.createElementBlock)(\"div\", _hoisted_1, [(0, _vue.createElementVNode)(\"div\", _hoisted_2, [(0, _vue.createElementVNode)(\"div\", {\n    \"class\": \"fold_view\",\n    onClick: $setup.toggleClick\n  }, [(0, _vue.createVNode)(_component_el_icon, {\n    \"class\": \"icons\"\n  }, {\n    \"default\": (0, _vue.withCtx)(function () {\n      return [!$setup.collapse ? ((0, _vue.openBlock)(), (0, _vue.createBlock)(_component_Fold, {\n        key: 0\n      })) : ((0, _vue.openBlock)(), (0, _vue.createBlock)(_component_Expand, {\n        key: 1\n      }))];\n    }),\n    _: 1 /* STABLE */\n  })])]), _hoisted_3, (0, _vue.createElementVNode)(\"div\", _hoisted_4, [(0, _vue.createVNode)(_component_el_dropdown, {\n    \"class\": \"avatar-container right-menu-item\",\n    trigger: \"hover\"\n  }, {\n    dropdown: (0, _vue.withCtx)(function () {\n      return [(0, _vue.createVNode)(_component_el_dropdown_menu, {\n        slot: \"dropdown\"\n      }, {\n        \"default\": (0, _vue.withCtx)(function () {\n          return [$setup.roleName != '管理员' ? ((0, _vue.openBlock)(), (0, _vue.createBlock)(_component_el_dropdown_item, {\n            key: 0,\n            onClick: $setup.centerClick\n          }, {\n            \"default\": (0, _vue.withCtx)(function () {\n              return [(0, _vue.createTextVNode)(\" 个人中心 \")];\n            }),\n            _: 1 /* STABLE */\n          })) : (0, _vue.createCommentVNode)(\"v-if\", true), (0, _vue.createVNode)(_component_el_dropdown_item, {\n            onClick: $setup.updatepasswordClick\n          }, {\n            \"default\": (0, _vue.withCtx)(function () {\n              return [(0, _vue.createTextVNode)(\" 修改密码 \")];\n            }),\n            _: 1 /* STABLE */\n          }), (0, _vue.createVNode)(_component_el_dropdown_item, null, {\n            \"default\": (0, _vue.withCtx)(function () {\n              return [(0, _vue.createElementVNode)(\"span\", {\n                style: {\n                  \"display\": \"block\"\n                },\n                onClick: $setup.onLogout\n              }, \"退出登录\")];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n\n        _: 1 /* STABLE */\n      })];\n    }),\n\n    \"default\": (0, _vue.withCtx)(function () {\n      return [(0, _vue.createElementVNode)(\"div\", _hoisted_5, [(0, _vue.createElementVNode)(\"div\", _hoisted_6, \"欢迎 \" + (0, _vue.toDisplayString)(_ctx.$toolUtil.storageGet('adminName')), 1 /* TEXT */), _hoisted_7, (0, _vue.createVNode)(_component_el_icon, {\n        \"class\": \"el-icon--right\"\n      }, {\n        \"default\": (0, _vue.withCtx)(function () {\n          return [(0, _vue.createVNode)(_component_arrow_down)];\n        }),\n        _: 1 /* STABLE */\n      })])];\n    }),\n\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"mappings":";;;;;;;;;;;;;;EACM,SAAM;AAAU;;EACf,SAAM;AAAe;;sBAS1B,6BAA0C;IAArC,SAAM;EAAc,GAAC,YAAU;AAAA;;EAC/B,SAAM;AAAgB;;EAEpB,SAAM;AAAgB;;EACrB,SAAM;AAAU;;sBACrB,6BAAuD;IAAlD,SAAM,aAAa;IAACA,GAA6B,EAA7BC;;;;;;;;;;;;gCAf7B,6BAmCM,OAnCNC,UAmCM,GAlCL,6BAOM,OAPNC,UAOM,GANL,6BAKM;IALD,SAAM,WAAW;IAAEC,OAAK,EAAEC;MAC9B,sBAGUC;IAHD,SAAM;EAAO;iCACrB;MAAA,OAAyB,EAAZD,eAAQ,2BAArB,sBAAyBE;QAAAC;MAAA,8BACzB,sBAAiBC;QAAAD;MAAA;;;UAKpBE,UAA0C,EAC1C,6BAuBM,OAvBNC,UAuBM,GAtBL,sBAqBcC;IArBD,SAAM,kCAAkC;IAACC,OAAO,EAAC;;IAQlDC,QAAQ,oBAClB;MAAA,OAUmB,CAVnB,sBAUmBC;QAVDC,IAAI,EAAC;MAAU;qCAChC;UAAA,OAEmB,CAF0BX,eAAQ,oCAArD,sBAEmBY;;YAFAb,OAAK,EAAEC;;yCAAoC;cAAA,OAE9D,2BAF8D,QAE9D;;;4DACA,sBAEmBY;YAFAb,OAAK,EAAEC;UAAmB;yCAAE;cAAA,OAE/C,2BAF+C,QAE/C;;;cACA,sBAEmBY;yCADlB;cAAA,OAA0D,CAA1D,6BAA0D;gBAApDC,KAAsB,EAAtB;kBAAA;gBAAA,CAAsB;gBAAEd,OAAK,EAAEC;iBAAU,MAAI;;;;;;;;;;iCAhBtD;MAAA,OAMM,CANN,6BAMM,OANNc,UAMM,GALL,6BAAoE,OAApEC,UAAoE,EAA9C,KAAG,6BAAEC,cAAS,CAACC,UAAU,+BAC/CC,UAAuD,EACvD,sBAEUjB;QAFD,SAAM;MAAgB;qCAC9B;UAAA,OAAc,CAAd,sBAAckB","names":["src","_imports_0","_hoisted_1","_hoisted_2","onClick","$setup","_component_el_icon","_component_Fold","key","_component_Expand","_hoisted_3","_hoisted_4","_component_el_dropdown","trigger","dropdown","_component_el_dropdown_menu","slot","_component_el_dropdown_item","style","_hoisted_5","_hoisted_6","_ctx","storageGet","_hoisted_7","_component_arrow_down"],"sourceRoot":"","sources":["E:\\桌面\\ylylxt\\manage_code\\src\\components\\index\\indexTop.vue"],"sourcesContent":["<template>\r\n\t<div class=\"top_view\">\r\n\t\t<div class=\"top_left_view\">\r\n\t\t\t<div class=\"fold_view\" @click=\"toggleClick\">\r\n\t\t\t\t<el-icon class=\"icons\">\r\n\t\t\t\t\t<Fold v-if=\"!collapse\" />\r\n\t\t\t\t\t<Expand v-else />\r\n\t\t\t\t</el-icon>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"projectTitle\">社区智慧医疗养老系统</div>\r\n\t\t<div class=\"top_right_view\">\r\n\t\t\t<el-dropdown class=\"avatar-container right-menu-item\" trigger=\"hover\">\r\n\t\t\t\t<div class=\"avatar-wrapper\">\r\n\t\t\t\t\t<div class=\"nickname\">欢迎 {{$toolUtil.storageGet('adminName')}}</div>\r\n\t\t\t\t\t<img class=\"user-avatar\" src=\"@/assets/img/avatar.png\">\r\n\t\t\t\t\t<el-icon class=\"el-icon--right\">\r\n\t\t\t\t\t\t<arrow-down />\r\n\t\t\t\t\t</el-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<template #dropdown>\r\n\t\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t\t\t<el-dropdown-item @click=\"centerClick\" v-if=\"roleName!='管理员'\">\r\n\t\t\t\t\t\t\t个人中心\r\n\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t<el-dropdown-item @click=\"updatepasswordClick\">\r\n\t\t\t\t\t\t\t修改密码\r\n\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t<el-dropdown-item>\r\n\t\t\t\t\t\t\t<span style=\"display:block;\" @click=\"onLogout\">退出登录</span>\r\n\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t</template>\r\n\t\t\t</el-dropdown>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport axios from 'axios'\r\n\timport {\r\n\t\tElMessageBox\r\n\t} from 'element-plus'\r\n\timport {\r\n\t\ttoRefs,\r\n\t\tdefineEmits,\r\n\t\tgetCurrentInstance,\r\n\t\tref,\r\n\t\tonBeforeUnmount\r\n\t} from 'vue';\r\n\timport { useStore } from 'vuex'\r\n\tconst store = useStore()\r\n\timport {\r\n\t\tuseRouter\r\n\t} from 'vue-router';\r\n\tconst props = defineProps({\r\n\t\tcollapse: Boolean\r\n\t})\r\n\tconst {\r\n\t\tcollapse,\r\n\t\t\r\n\t} = toRefs(props)\r\n\t\r\n\tconst router = useRouter()\r\n\tconst context = getCurrentInstance()?.appContext.config.globalProperties;\r\n\tconst emit = defineEmits(['collapseChange'])\r\n\tconst role = context?.$toolUtil.storageGet('sessionTable')\r\n\tconst roleName = context?.$toolUtil.storageGet('role')\r\n\tconst toggleClick = () => {\r\n\t\temit('collapseChange')\r\n\t}\r\n\tconst getSession = () => {\r\n\t\tcontext?.$http({\r\n\t\t\turl: `${context?.$toolUtil.storageGet('sessionTable')}/session`,\r\n\t\t\tmethod: 'get'\r\n\t\t}).then(res=>{\r\n\t\t\tcontext?.$toolUtil.storageSet('userid',res.data.data.id)\r\n\t\t})\r\n\t}\r\n\t// 退出登录\r\n\tconst onLogout = () => {\r\n\t\tlet toolUtil = context?.$toolUtil\r\n\t\tstore.dispatch('delAllCachedViews')\r\n\t\tstore.dispatch('delAllVisitedViews')\r\n\t\ttoolUtil.storageClear()\r\n\t\trouter.replace({\r\n\t\t\tname: \"login\"\r\n\t\t});\r\n\t}\r\n\t// 个人中心\r\n\tconst centerClick = () => {\r\n\t\trouter.push(`/${role}Center`)\r\n\t}\r\n\t// 修改密码\r\n\tconst updatepasswordClick = () => {\r\n\t\trouter.push(`/updatepassword`)\r\n\t}\r\n\tgetSession()\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t// 总盒子\r\n\t.top_view {\r\n\t\tpadding: 0;\r\n\t\tz-index: 9;\r\n\t\tdisplay: flex;\r\n\t\tborder-color: #990033;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbackground: linear-gradient(276deg, rgba(255,207,179,1) 0%, rgba(255,250,246,1) 99%);\r\n\t\twidth: 100%;\r\n\t\tjustify-content: flex-start;\r\n\t\tborder-width: 0 0 0px;\r\n\t\talign-items: center;\r\n\t\tposition: fixed;\r\n\t\tborder-style: solid;\r\n\t\theight: 60px;\r\n\t\t// 左边盒子\r\n\t\t.top_left_view {\r\n\t\t\tdisplay: flex;\r\n\t\t\twidth: auto;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 100%;\r\n\t\t\t// 折叠按钮盒子\r\n\t\t\t.fold_view {\r\n\t\t\t\tpadding: 0 15px;\r\n\t\t\t\tdisplay: none;\r\n\t\t\t\t// 图标\r\n\t\t\t\t.icons {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 标题\r\n\t\t.projectTitle{\r\n\t\t\tpadding: 0 20px;\r\n\t\t\tmargin: 0 0 0 20px;\r\n\t\t\tcolor: #000;\r\n\t\t\tfont-weight: 500;\r\n\t\t\twidth: auto;\r\n\t\t\tfont-size: 22px;\r\n\t\t\tline-height: 1;\r\n\t\t}\r\n\t\t// 右部盒子\r\n\t\t.top_right_view{\r\n\t\t\ttop: 5px;\r\n\t\t\tdisplay: flex;\r\n\t\t\twidth: auto;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 10px;\r\n\t\t\theight: 100%;\r\n\t\t\torder: 3;\r\n\t\t\t// 头像盒子\r\n\t\t\t.avatar-container {\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tmargin: 0 30px 0 0;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 40px;\r\n\t\t\t\t.avatar-wrapper {\r\n\t\t\t\t\tmargin: 5px 0 0;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t// 昵称\r\n\t\t\t\t\t.nickname {\r\n\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\tmargin: 0 10px 0 0;\r\n\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\tline-height: 44px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 头像\r\n\t\t\t\t\t.user-avatar {\r\n\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\tborder-radius: 100%;\r\n\t\t\t\t\t\tmargin: 0 4px 0 0;\r\n\t\t\t\t\t\twidth: 36px;\r\n\t\t\t\t\t\theight: 36px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 图标\r\n\t\t\t\t\t.el-icon--right {\r\n\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// 下拉盒子\r\n\t.el-dropdown-menu{\r\n\t\tbackground: #fff;\r\n\t\tmin-width: 100px;\r\n\t\t// 下拉盒子itme\r\n\t\t:deep(.el-dropdown-menu__item){\r\n\t\t\tcolor: #555;\r\n\t\t\tbackground: none;\r\n\t\t}\r\n\t\t// item悬浮\r\n\t\t:deep(.el-dropdown-menu__item:hover){\r\n\t\t\tcolor: #fff;\r\n\t\t\tbackground: #654B3C;\r\n\t\t}\r\n\t}\r\n\t\r\n</style>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}